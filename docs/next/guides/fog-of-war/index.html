<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/Edgar-Unity/blog/rss.xml" title="Edgar - Unity Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/Edgar-Unity/blog/atom.xml" title="Edgar - Unity Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-31904365-17","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Edgar - Unity" href="/Edgar-Unity/opensearch.xml"><title data-react-helmet="true">(PRO) Fog of war | Edgar - Unity</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="(PRO) Fog of war | Edgar - Unity"><meta data-react-helmet="true" name="description" content="In this guide, we will learn how to enable a simple fog of war functionality."><meta data-react-helmet="true" property="og:description" content="In this guide, we will learn how to enable a simple fog of war functionality."><meta data-react-helmet="true" property="og:url" content="https://ondrejnepozitek.github.io/Edgar-Unity/docs/next/guides/fog-of-war"><link data-react-helmet="true" rel="shortcut icon" href="/Edgar-Unity/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link data-react-helmet="true" rel="canonical" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/next/guides/fog-of-war"><link rel="stylesheet" href="/Edgar-Unity/styles.3b7fc4b2.css">
<link rel="preload" href="/Edgar-Unity/styles.7ac7a35c.js" as="script">
<link rel="preload" href="/Edgar-Unity/runtime~main.3d447f61.js" as="script">
<link rel="preload" href="/Edgar-Unity/main.89217b36.js" as="script">
<link rel="preload" href="/Edgar-Unity/1.6fb18eca.js" as="script">
<link rel="preload" href="/Edgar-Unity/1be78505.baba42df.js" as="script">
<link rel="preload" href="/Edgar-Unity/266.dde56b9e.js" as="script">
<link rel="preload" href="/Edgar-Unity/269.3736971c.js" as="script">
<link rel="preload" href="/Edgar-Unity/f976f453.910c0ef1.js" as="script">
<link rel="preload" href="/Edgar-Unity/265.0b55b47d.js" as="script">
<link rel="preload" href="/Edgar-Unity/ba050966.0862a762.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Edgar-Unity/"><strong class="navbar__title">Edgar - Unity</strong></a><a class="navbar__item navbar__link" href="/Edgar-Unity/versions">v2.0.0-alpha.8</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Edgar-Unity/docs/introduction">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/Edgar-Unity/docs/introduction">2.0.0-alpha.8</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/2.0.0-alpha.7/introduction">2.0.0-alpha.7</a></li><li><a class="dropdown__link" href="/Edgar-Unity/docs/2.0.0-alpha.6/introduction">2.0.0-alpha.6</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/Edgar-Unity/docs/next/introduction">Master/Unreleased</a></li></ul></div><a href="https://github.com/OndrejNepozitek/Edgar-Unity/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><div class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></div></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Edgar-Unity/"><strong class="navbar__title">Edgar - Unity</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/Edgar-Unity/versions">v2.0.0-alpha.8</a></li><li class="menu__list-item menu__list-item--collapsed"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" role="button" href="/Edgar-Unity/docs/introduction">Docs</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/Edgar-Unity/docs/introduction">2.0.0-alpha.8</a></li><li class="menu__list-item"><a class="menu__link" href="/Edgar-Unity/docs/2.0.0-alpha.7/introduction">2.0.0-alpha.7</a></li><li class="menu__list-item"><a class="menu__link" href="/Edgar-Unity/docs/2.0.0-alpha.6/introduction">2.0.0-alpha.6</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/Edgar-Unity/docs/next/introduction">Master/Unreleased</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/OndrejNepozitek/Edgar-Unity/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/installation">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/basics/introduction">Basics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/basics/room-templates">Room templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/basics/level-graphs">Level graphs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/basics/generator-setup">Generator setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/basics/generated-level-info">Level structure and rooms data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/basics/performance-tips">Performance tips</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Generators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/generators/dungeon-generator">Dungeon generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/generators/post-process">Post-processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/generators/platformer-generator">(PRO) Platformer generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/generators/custom-input">(PRO) Custom input</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/examples/example-1">Example 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/examples/example-2">Example 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/examples/platformer-1">(PRO) Platformer 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/examples/isometric-1">(PRO) Isometric 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/examples/enter-the-gungeon">(PRO) Enter the Gungeon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/examples/dead-cells">(PRO) Dead Cells</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/guides/room-template-customization">Room template customization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/guides/current-room-detection">Current room detection</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Edgar-Unity/docs/next/guides/fog-of-war">(PRO) Fog of war</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/guides/minimap">(PRO) Minimap</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/guides/door-sockets">(PRO) Door sockets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/guides/directed-level-graphs">(PRO) Directed level graphs</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_yu3-">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/next/other/migration-v1-v2">Migration from v1 to v2</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Edgar - Unity <strong>Next</strong> version.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/Edgar-Unity/docs/guides/fog-of-war">latest version</a></strong> (2.0.0-alpha.8).</div></div><div class="docItemContainer_a7m4"><article><div><span class="badge badge--secondary">Version: Next</span></div><header><h1 class="docTitle_Oumm">(PRO) Fog of war</h1></header><div class="markdown"><p>In this guide, we will learn how to enable a simple fog of war functionality.</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/example.gif"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Fog of War example (exported to a GIF with low FPS, everything is smooth ingame)</div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="limitations"></a>Limitations<a class="hash-link" href="#limitations" title="Direct link to heading">#</a></h2><ul><li><strong>Performance on large levels</strong> - Not suitable for very large levels (e.g. area larger than 500x500 tiles) - see <a href="/Edgar-Unity/docs/next/guides/fog-of-war#implementation-and-performance">Implementation and performance</a></li><li><strong>Cell size of the grid</strong> - The Fog of War currently works only when the <em>Cell size</em> of the Grid is set to <em>1</em> and the <em>Cell gap</em> set to <em>0</em>. If you want to use this feature and have a different cell size or cell gap, please let me know on <a href="https://github.com/OndrejNepozitek/Edgar-Unity/issues" target="_blank" rel="noopener noreferrer">Github</a> and I will try to improve the implementation.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><ul><li><strong>Built-in Render Pipeline</strong> - works in Unity 2018.4+</li><li><strong>Lightweight Render Pipeline (LWRP)</strong> - version &gt;= 6.5 of LWRP is needed (and therefore Unity 2019.2+)</li><li><strong>Universal Render Pipeline (URP)</strong> - version &gt;= 7.0 of URP is needed (and therefore Unity 2019.3+)<ul><li><strong>IMPORTANT!</strong> - this feature <strong>does not</strong> work with the <strong>2D Renderer (Experimental)</strong> as it is still experimental and people in Unity have not yet implemented custom renderer features!</li></ul></li><li><strong>High Definition Render Pipeline (HDRP)</strong> - currently not supported</li></ul><blockquote><p><strong>Note:</strong> Additional setup steps are needed for LWRP and URP, see below.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="example-scene"></a>Example scene<a class="hash-link" href="#example-scene" title="Direct link to heading">#</a></h2><p>An example scene can be found at <em>ProceduralLevelGenerator/Examples/FogOfWarExample</em>. </p><blockquote><p><strong>Note:</strong> Please see the <a href="/Edgar-Unity/docs/next/guides/fog-of-war#add-custom-renderer-feature">Add custom renderer feature</a> setup step below to make the example scene work in URP/LWRP.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setup"></a>Setup<a class="hash-link" href="#setup" title="Direct link to heading">#</a></h2><p>There are several steps that need to be done to enable the <em>Fog of War</em> feature. I tried to make the setup as simple as possible but it still requires some manual work.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-fog-of-war-component"></a>Add Fog of War component<a class="hash-link" href="#add-fog-of-war-component" title="Direct link to heading">#</a></h3><p>The first step is to add the <strong>Fog of War</strong> component to the game object that holds the main camera of your game. The component has several settings, see the <a href="/Edgar-Unity/docs/next/guides/fog-of-war#configuration-and-examples">Configuration</a> section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="include-shader-in-build"></a>Include shader in build<a class="hash-link" href="#include-shader-in-build" title="Direct link to heading">#</a></h3><p>This feature uses a custom shader that you have to manually include in the build of you game. Navigate to <em>Edit -&gt; Project Settings -&gt; Graphics</em> and add the <em>Edgar/FogOfWar</em> shader to the <em>Always Included Shaders</em> list. If you do not do that, the game will work in the editor but it won&#x27;t work in a standalone build.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-custom-renderer-feature"></a>Add custom renderer feature<a class="hash-link" href="#add-custom-renderer-feature" title="Direct link to heading">#</a></h3><p><strong>(URP and LWRP only)</strong> - This step is only required if you use URP or LWRP as they do not support the <a href="https://docs.unity3d.com/ScriptReference/MonoBehaviour.OnRenderImage.html" target="_blank" rel="noopener noreferrer">OnRenderImage()</a> hook. To work around that, you have to manually add a custom renderer feature.</p><p><strong>LWRP</strong>: The first step is to create a custom <strong>Forward Renderer</strong> asset if you do not have one already. This can be done in <em>Create -&gt; Rendering -&gt; LWRP -&gt; Forward Renderer</em>. You have to make sure that this renderer is used in the render pipeline instead of the default one.</p><p><strong>URP</strong>: With URP, there should already exist a <strong>Forward Renderer</strong> asset that was created with the render pipeline asset. Locate the renderer.</p><p>The next step is to open the <strong>Forward Renderer</strong> asset. Click the <em>Add Renderer Feature</em> and choose the <em>Fog Of War Feature</em>. Based on the render pipeline that you are using, the feature should be called <em>Fog Of War LWRP Feature</em> or <em>Fog Of War URP Feature</em>.</p><blockquote><p><strong>Note:</strong> If you do not see the <em>Fog Of War Feature</em>, make sure you meet the requirements as described <a href="/Edgar-Unity/docs/next/guides/fog-of-war#prerequisites">above</a>. The feature is conditionally compiled only if there are all the required packages installed.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-custom-post-processing-logic"></a>Add custom post-processing logic<a class="hash-link" href="#add-custom-post-processing-logic" title="Direct link to heading">#</a></h3><p>After a level is generated, we have to setup the Fog of War component. The best place to do that is in a <a href="/Edgar-Unity/docs/next/generators/post-process#custom-post-processing">custom post-processing task</a>. Sample code with comments can be seen below:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-csharp codeBlock_1wn8" style="color:#cccccc;background-color:#242424"><div class="token-line" style="color:#cccccc"><span class="token punctuation" style="color:rgb(204, 130, 66)">[</span><span class="token class-name" style="color:#dd4a68">CreateAssetMenu</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">menuName </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> </span><span class="token string" style="color:#6a8759">&quot;Edgar/Examples/Fog of War/Post process&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">,</span><span class="token plain"> fileName </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> </span><span class="token string" style="color:#6a8759">&quot;FogOfWarPostProcess&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token keyword" style="color:rgb(204, 130, 66)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">class</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">FogOfWarPostProcess</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(204, 130, 66)">:</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">DungeonGeneratorPostProcessBase</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token keyword" style="color:rgb(204, 130, 66)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">override</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">Run</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token class-name" style="color:#dd4a68">GeneratedLevel</span><span class="token plain"> level</span><span class="token punctuation" style="color:rgb(204, 130, 66)">,</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">LevelDescription</span><span class="token plain"> levelDescription</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// To setup the FogOfWar component, we need to get the root game object that holds the level.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> generatedLevelRoot </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> level</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">RootGameObject</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// If we use the Wave mode, we must specify the point from which the wave spreads as we reveal a room.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// The easiest way to do so is to get the player game object and use its transform as the wave origin.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Change this line if your player game object does not have the &quot;Player&quot; tag.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> player </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> GameObject</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">FindGameObjectWithTag</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;Player&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Now we can setup the FogOfWar component.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// To make it easier to work with the component, the class is a singleton and provides the Instance property.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        FogOfWar</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Instance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">Setup</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">generatedLevelRoot</span><span class="token punctuation" style="color:rgb(204, 130, 66)">,</span><span class="token plain"> player</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">transform</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// After the level is generated, we usually want to reveal the spawn room.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// To do that, we have to find the room instance that corresponds to the Spawn room.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// In this example, the spawn room is called &quot;Spawn&quot; so we find it by its name.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> spawnRoom </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> level</span></div><div class="token-line" style="color:#cccccc"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">GetRoomInstances</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">SingleOrDefault</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">x </span><span class="token operator" style="color:rgb(204, 130, 66)">=&gt;</span><span class="token plain"> x</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Room</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">GetDisplayName</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(204, 130, 66)">==</span><span class="token plain"> </span><span class="token string" style="color:#6a8759">&quot;Spawn&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">spawnRoom </span><span class="token operator" style="color:rgb(204, 130, 66)">==</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">null</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">            </span><span class="token keyword" style="color:rgb(204, 130, 66)">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">new</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">InvalidOperationException</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;There must be exactly one room with the name &#x27;Spawn&#x27; for this example to work.&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// When we have the spawn room instance, we can reveal the room from the fog.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// We use revealImmediately: true so that the first room is revealed instantly,</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// but it is optional.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        FogOfWar</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Instance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">RevealRoom</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">spawnRoom</span><span class="token punctuation" style="color:rgb(204, 130, 66)">,</span><span class="token plain"> revealImmediately</span><span class="token punctuation" style="color:rgb(204, 130, 66)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">true</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><blockquote><p><strong>Note:</strong> More information about the API of the <em>FogOfWar</em> component can be found in the <a href="/Edgar-Unity/docs/next/guides/fog-of-war#api">API</a> section.</p></blockquote><p>After enabling this post-processing task and starting the game, we should see that all but the spawn room are hidden in the fog. The last thing that we have to handle is to reveal rooms when we enter them.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="add-trigger-colliders"></a>Add trigger colliders<a class="hash-link" href="#add-trigger-colliders" title="Direct link to heading">#</a></h3><p>The last step is to add trigger colliders that will reveal a room when the player enters that room. There are at least two possible ways of doing that:</p><ol><li>Add colliders to all room templates and always reveal only the room for which the collider was triggered</li><li>Add colliders only to corridor room templates and when you trigger the collider reveal both the collider and its neighbours</li></ol><p>In this tutorial, I decided to use the second option as it, in my opinion, looks better. This is the final result that we want to achieve:</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/colliders_goal.gif"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Rooms are revealed after a corridor is visited</div></div><p>To achieve this, we have to slightly modify our corridor room templates. In each corridor room template, we create a child game object with a collider that has <em>Is Trigger</em> set to true. The collider should mark the area where the player has to stand to trigger the fog of war script. The easiest thing to do is to add a collider that covers the whole floor of the corridor. However, it is also possible to make the collider slightly smaller and trigger the script only when the player is closer to the centre of the corridor. Our example setup can be seen below:</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/colliders_setup.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Setup of the corridor Fog of War trigger</div></div><p>The last step is to add a simple component (to the game object with the collider) that will call the Fog of War script when the collider is triggered:</p><div class="mdxCodeBlock_1zKU"><div class="codeBlockWrapper_3ZcX"><pre class="prism-code language-csharp codeBlock_1wn8" style="color:#cccccc;background-color:#242424"><div class="token-line" style="color:#cccccc"><span class="token keyword" style="color:rgb(204, 130, 66)">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">class</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">FogOfWarExampleTriggerHandler</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(204, 130, 66)">:</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">MonoBehaviour</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token keyword" style="color:rgb(204, 130, 66)">private</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">RoomInstance</span><span class="token plain"> roomInstance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token keyword" style="color:rgb(204, 130, 66)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">Start</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        roomInstance </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">GetRoomInstance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token keyword" style="color:rgb(204, 130, 66)">private</span><span class="token plain"> </span><span class="token class-name" style="color:#dd4a68">RoomInstance</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">GetRoomInstance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// The goal of this method is to get the RoomInstance of the corresponding room template</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// so that we can pass it to the FogOfWar script.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Get the root game object of the room template</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> roomTemplate </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> transform</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">parent</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Each room template has a RoomInfo component attached</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">var</span><span class="token plain"> roomInfo </span><span class="token operator" style="color:rgb(204, 130, 66)">=</span><span class="token plain"> roomTemplate</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token generic-method function" style="color:#ffc66d">GetComponent</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&lt;</span><span class="token generic-method class-name" style="color:#dd4a68">RoomInfo</span><span class="token generic-method punctuation" style="color:rgb(204, 130, 66)">&gt;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// The RoomInfo component has a RoomInstance property containing information about the room</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">return</span><span class="token plain"> roomInfo</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">RoomInstance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token keyword" style="color:rgb(204, 130, 66)">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(204, 130, 66)">void</span><span class="token plain"> </span><span class="token function" style="color:#ffc66d">OnTriggerEnter2D</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token class-name" style="color:#dd4a68">Collider2D</span><span class="token plain"> otherCollider</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// Make sure that the player game object has the &quot;Player&quot; tag</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token comment" style="color:rgb(112, 112, 112)">// or remove/modify this line.</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token keyword" style="color:rgb(204, 130, 66)">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">otherCollider</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">gameObject</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">CompareTag</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token string" style="color:#6a8759">&quot;Player&quot;</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">            FogOfWar</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token plain">Instance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">.</span><span class="token function" style="color:#ffc66d">RevealRoomAndNeighbors</span><span class="token punctuation" style="color:rgb(204, 130, 66)">(</span><span class="token plain">roomInstance</span><span class="token punctuation" style="color:rgb(204, 130, 66)">)</span><span class="token punctuation" style="color:rgb(204, 130, 66)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#cccccc"><span class="token plain"></span><span class="token punctuation" style="color:rgb(204, 130, 66)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1PCb">Copy</button></div></div><p>After you modify all your corridor room templates, the Fog of War should work as expected.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="api"></a>API<a class="hash-link" href="#api" title="Direct link to heading">#</a></h2><p>Up-to-date API documentation can be found <a href="https://ondrejnepozitek.github.io/ProceduralLevelGenerator-UnityApiDocs/master/api/Edgar.Unity.FogOfWar.html" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="configuration-and-examples"></a>Configuration and examples<a class="hash-link" href="#configuration-and-examples" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fog-color"></a>Fog color<a class="hash-link" href="#fog-color" title="Direct link to heading">#</a></h3><p>The <em>FogColor</em> property specifies the colour of tiles that are hidden in the fog. It defaults to black but in our example scene we use purple as that is the colour which works best with the tileset.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/fog_color_purple.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/fog_color_purple.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">FogColor set to purple</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/fog_color_black.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/fog_color_black.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">FogColor set to black</div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="transition-mode"></a>Transition mode<a class="hash-link" href="#transition-mode" title="Direct link to heading">#</a></h3><p>The <em>Transition mode</em> property specifies what to do when there are two neighbouring tiles with different fog values (i.e. one tile is less revealed than the other tile). If we use the <em>Smooth</em> mode, the colours of pixels on the two tiles will smoothly interpolate from one fog value to the other. On the other hand, if we use the <em>Tile Based</em> mode, no interpolation will be used and there will be a strict division between the fog values of the two tiles. There is also a third mode now - the <em>Custom</em> mode that is somewhere between the two previous modes and adds two additional parameters - <em>Tile granularity</em> and <em>Fog smoothness</em>.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/transition_mode_smooth.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/transition_mode_smooth.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">TransitionMode set to Smooth (gif)</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/transition_mode_tile_based.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/transition_mode_tile_based.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">TransitionMode set to Tile Based (gif)</div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fog-value"></a>Fog value<a class="hash-link" href="#fog-value" title="Direct link to heading">#</a></h4><p>Before we dive into the next two parameters, it is good to know what is the <em>fog (transparency) value</em> of a pixel. When we want to show that a pixel is affected by the fog of war effect, we interpolate between the colour of that pixel and the fog colour. The value that controls the interpolation is called the <em>fog value</em>. This <em>fog value</em> is always in the <em>[0,1]</em> range. To completely hide a pixel in the fog, we set its <em>fog value</em> to 0. To completely show a pixel, we set its <em>fog value</em> to 1. If we want to animate the transition between pixels being hidden and then revealed, we can gradually increate the <em>fog value</em>, starting with the initial <em>fog value</em> and going all the way up to 1.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="tilegranularity"></a><code>TileGranularity</code><a class="hash-link" href="#tilegranularity" title="Direct link to heading">#</a></h4><p>This parameter controls into how many pixel chunks is each tile divided. The actual relation between the value of this parameter and the number of chunks is that if the value is equal to <em>X</em>, each tile is divided into <em>X*X</em> same-sized chunks. That means that if we set the value to 2, we will get <em>2x2=4</em> chunks in total - each tile is divided into quarters.</p><p>The main property of individual chunks is that each pixel in a chunk has the same <em>fog value</em> as all the other pixels in the chunk. Both the <em>Tile-based</em> and <em>Smooth</em> transition modes are special cases of this division to chunks. The <em>Tile-based</em> mode equals to setting <em>TileGranularity</em> to 1 - each tile is a single chunk. The <em>Smooth</em> mode equals to setting <em>TileGranularity</em> to infinity - each pixel is independent from other pixels. </p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/granularity_1.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/granularity_1.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">TileGranularity set to 1 (gif)</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/granularity_2.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/granularity_2.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">TileGranularity set to 2 (gif)</div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fogsmoothness"></a><code>FogSmoothness</code><a class="hash-link" href="#fogsmoothness" title="Direct link to heading">#</a></h4><p>This parameter controls how many possible <em>fog values</em> there are for every pixel. In other words, the parameter controls how many possible steps there are between the <em>fog values</em> 0 and 1. The exact formula is <em>stepSize = 1 / fogSmoothness</em>. For example, by setting the <em>FogSmoothness</em> to <em>2</em>, the step size is equal to <em>1/4 = 0.25</em> and there are 5 possible fog values - <em>0</em>, <em>0.25</em>, <em>0.5</em>, <em>0.75</em> and <em>1</em>.</p><p>If you want to emphasize the transitions between individual <em>fog values</em> set the parameter to a lower value, for example <em>10</em>. If you want to have a very smooth transition between individual <em>fog values</em>, use a high value, for example <em>100</em>.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/smoothness_2.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/smoothness_2.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">FogSmoothness set to 2 (gif)</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/smoothness_10.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/smoothness_10.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">FogSmoothness set to 10 (gif)</div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="wave-mode"></a>Wave mode<a class="hash-link" href="#wave-mode" title="Direct link to heading">#</a></h3><p>The first available mode is the <strong>Wave mode</strong>. With the <em>Wave mode</em>, the fog reveals based on the distance of individual tiles from the player. The tiles that are close to the player are revealed sooner than tiles that are far from the player. There are two properties that alter the behaviour when in the <em>Wave mode</em>: </p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="wavespeed"></a><code>WaveSpeed</code><a class="hash-link" href="#wavespeed" title="Direct link to heading">#</a></h4><p>The <strong>WaveSpeed</strong> property specifies how fast the wave moves and its unit is <em>tiles per second</em>. If we have a tile that is 15 tiles away from the player and the wave speed is set to 5, then the tile will be fully revealed 15/5 = 3 seconds after triggering the fog of war script.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/wave_speed_10.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/wave_speed_10.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">WaveSpeed set to 10 tiles per second (gif)</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/wave_speed_1.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/wave_speed_1.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">WaveSpeed set to 1 tile per second (gif)</div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="waverevealthreshold"></a><code>WaveRevealThreshold</code><a class="hash-link" href="#waverevealthreshold" title="Direct link to heading">#</a></h4><p>The <strong>WaveRevealThreshold</strong> property specifies for how long is a tile completely hidden before it starts to be revealed. If we set the value to 0, all tiles to be revealed will immediately have non-zero opacity. The tiles that are close to the player will quickly have their full opacity while it will take longer for tiles that are far away. If we set the value to 0.5 and have a tile that should be fully revealed after 3 seconds, it will make the tile completely hidden for 0.5 * 3 = 1.5 seconds and only after that the opacity will be increased and the tile will be fully revealed after additional 1.5 seconds. As a result, it will look like the wave actually moves.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/wave_reveal_threshold_0.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/wave_reveal_threshold_0.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">WaveRevealThreshold set to 0 (gif)</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/wave_reveal_threshold_0_5.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/wave_reveal_threshold_0_5.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">WaveRevealThreshold set to 0.5 (gif)</div></div></div><blockquote><p><strong>Note:</strong> It is not recommended to use values higher than 0.5 in the combination with the Smooth transition mode.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fade-in-mode"></a>Fade In mode<a class="hash-link" href="#fade-in-mode" title="Direct link to heading">#</a></h3><p>The second available mode is the <strong>Fade In mode</strong>. With the <em>Fade In mode</em>, all the tiles are revealed at the same time no matter the distance from the player. There is a single property that alters the behaviour of this mode:</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="fadeinduration"></a><code>FadeInDuration</code><a class="hash-link" href="#fadeinduration" title="Direct link to heading">#</a></h4><p>The <strong>FadeInDuration</strong> property specifies after how many seconds should the tiles be completely revealed. Value <em>0</em> means that all the tiles will be revealed immediately after triggering the fog of war script.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/fade_in_duration_0.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/fade_in_duration_0.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">FadeInDuration set to 0 seconds (gif)</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/fade_in_duration_5.gif" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/fade_in_duration_5.gif" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">FadeInDuration set to 5 seconds (gif)</div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="reveal-corridors"></a>Reveal Corridors<a class="hash-link" href="#reveal-corridors" title="Direct link to heading">#</a></h3><p>The <strong>RevealCorridors</strong> checkbox specifies whether you want to reveal some of the tiles from neighbouring corridor rooms even though the rooms themselves are not yet fully revealed. The main purpose of this feature is aesthetics - in my opinion, the game looks better when the corridor tiles gradually fade away. There are two properties that alter the behaviour of this feature:</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_enabled.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_enabled.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">RevealCorridors enabled</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_disabled.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_disabled.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">RevealCorridors disabled</div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="revealcorridorstiles"></a><code>RevealCorridorsTiles</code><a class="hash-link" href="#revealcorridorstiles" title="Direct link to heading">#</a></h4><p>The <strong>RevealCorridorsTiles</strong> property specifies how many tiles of each corridor should be revealed. To be more precise, it specifies the maximum distance of tiles (counted from the doors of the corridor) that should be revealed.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_tiles_1.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_tiles_1.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">RevealCorridorsTiles set to 1</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_tiles_3.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_tiles_3.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">RevealCorridorsTiles set to 3</div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="revealcorridorsgradually"></a><code>RevealCorridorsGradually</code><a class="hash-link" href="#revealcorridorsgradually" title="Direct link to heading">#</a></h4><p>The <strong>RevealCorridorsGradually</strong> property specifies whether corridor tiles should gradually fade out until they are barely visible.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_gradually_enabled.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_gradually_enabled.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">RevealCorridorsGradually enabled</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_gradually_disabled.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/reveal_corridors_gradually_disabled.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">RevealCorridorsGradually disabled</div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="initial-fog-transparency"></a>Initial fog transparency<a class="hash-link" href="#initial-fog-transparency" title="Direct link to heading">#</a></h3><p>The <strong>InitialFogTransparency</strong> property controls the initial transparency of the fog. The valid range for this parameter is <em>[0,1]</em>. By default, this value is set to <em>0</em>, which means that tiles that are covered in fog are completely hidden. </p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/transparency_0.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/transparency_0.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">InitialFogTransparency set to 0</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/guides/fog_of_war/transparency_0_15.png" target="_blank"><img src="/Edgar-Unity/img/v2/guides/fog_of_war/transparency_0_15.png" alt="result" style="height:auto;object-fit:initial"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">InitialFogTransparency set to 0.15</div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="implementation-and-performance"></a>Implementation and performance<a class="hash-link" href="#implementation-and-performance" title="Direct link to heading">#</a></h2><p>The Fog of War is implemented as an Image Effect (built-in render pipeline) or a Render Feature (URP). The script keeps track of which tiles should be revealed and passes this information to a shader via a texture where each pixel represents a single tile in the level. Based on the colour of individual pixels, the shader lerps between the actual tile graphics and the fog colour. All transitions are done on a CPU - when the fog changes, an updated texture is sent to the GPU.</p><p>The main performance bottleneck is when some of the revealed tiles do not fit in the fog texture. The script starts with a 1x1 texture and when the first room is revealed, it creates a new texture that is large enough to fit all the revealed tiles (plus a bit extra to make sure that we do not have to do this too often). This process repeats every time the texture is too small. The problem is that as the texture gets larger, more CPU time is needed to create the texture and upload it to the GPU. I did a simple benchmark and it looks like the performance is good enough for levels with up to 250k tiles (i.e. the bounding box of the level is approx. 500x500 tiles). For larger levels, the game freezes for a while when the texture is recreated. However, the average level generated by the plugin should be much smaller than that so the performance of the game should not be affected by the Fog of War script.</p><blockquote><p><strong>Note:</strong> If you have problems with the performance of the Fog of War script, please create a Github issue.</p></blockquote><p>If you want to have the minimum possible performance footprint, do not use any animated transitions. Use the <em>Fade In</em> mode and set the <em>Fade In Duration</em> to <em>0 seconds</em>. With this configuration, the script will compute something only in the frame when a room is revealed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="advanced"></a>Advanced<a class="hash-link" href="#advanced" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="serialization"></a>Serialization<a class="hash-link" href="#serialization" title="Direct link to heading">#</a></h3><p>TBD.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/OndrejNepozitek/Edgar-Unity/tree/docusaurus/docs/guides/fog-of-war.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Edgar-Unity/docs/next/guides/current-room-detection"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Current room detection</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Edgar-Unity/docs/next/guides/minimap"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">(PRO) Minimap Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#limitations" class="table-of-contents__link">Limitations</a></li><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#example-scene" class="table-of-contents__link">Example scene</a></li><li><a href="#setup" class="table-of-contents__link">Setup</a><ul><li><a href="#add-fog-of-war-component" class="table-of-contents__link">Add Fog of War component</a></li><li><a href="#include-shader-in-build" class="table-of-contents__link">Include shader in build</a></li><li><a href="#add-custom-renderer-feature" class="table-of-contents__link">Add custom renderer feature</a></li><li><a href="#add-custom-post-processing-logic" class="table-of-contents__link">Add custom post-processing logic</a></li><li><a href="#add-trigger-colliders" class="table-of-contents__link">Add trigger colliders</a></li></ul></li><li><a href="#api" class="table-of-contents__link">API</a></li><li><a href="#configuration-and-examples" class="table-of-contents__link">Configuration and examples</a><ul><li><a href="#fog-color" class="table-of-contents__link">Fog color</a></li><li><a href="#transition-mode" class="table-of-contents__link">Transition mode</a></li><li><a href="#wave-mode" class="table-of-contents__link">Wave mode</a></li><li><a href="#fade-in-mode" class="table-of-contents__link">Fade In mode</a></li><li><a href="#reveal-corridors" class="table-of-contents__link">Reveal Corridors</a></li><li><a href="#initial-fog-transparency" class="table-of-contents__link">Initial fog transparency</a></li></ul></li><li><a href="#implementation-and-performance" class="table-of-contents__link">Implementation and performance</a></li><li><a href="#advanced" class="table-of-contents__link">Advanced</a><ul><li><a href="#serialization" class="table-of-contents__link">Serialization</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Edgar-Unity/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/OndrejNepozitek" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://ondra.nepozitek.cz/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/OndrejNepozitek/Edgar-Unity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 OndÅ™ej NepoÅ¾itek</div></div></div></footer></div>
<script src="/Edgar-Unity/styles.7ac7a35c.js"></script>
<script src="/Edgar-Unity/runtime~main.3d447f61.js"></script>
<script src="/Edgar-Unity/main.89217b36.js"></script>
<script src="/Edgar-Unity/1.6fb18eca.js"></script>
<script src="/Edgar-Unity/1be78505.baba42df.js"></script>
<script src="/Edgar-Unity/266.dde56b9e.js"></script>
<script src="/Edgar-Unity/269.3736971c.js"></script>
<script src="/Edgar-Unity/f976f453.910c0ef1.js"></script>
<script src="/Edgar-Unity/265.0b55b47d.js"></script>
<script src="/Edgar-Unity/ba050966.0862a762.js"></script>
</body>
</html>