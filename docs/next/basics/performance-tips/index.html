<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">


<title data-react-helmet="true">Performance tips</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="Procedural level generator - Unity · A configurable Unity plugin for procedural generation of 2D dungeons"><meta data-react-helmet="true" name="docsearch:version" content="next"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="## Room templates"><meta data-react-helmet="true" property="og:description" content="## Room templates"><meta data-react-helmet="true" property="og:url" content="https://ondrejnepozitek.github.io/ProceduralLevelGenerator-Unity/docs/next/basics/performance-tips">

<link data-react-helmet="true" rel="shortcut icon" href="/ProceduralLevelGenerator-Unity/img/favicon.ico">


<link rel="stylesheet" href="/ProceduralLevelGenerator-Unity/styles.e092193f.css">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/ProceduralLevelGenerator-Unity/"><img class="navbar__logo"><strong>Procedural level generator - Unity</strong></a><a class="navbar__item navbar__link" href="/ProceduralLevelGenerator-Unity/versions">v2.0.0-alpha.1-hotfix.0</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/ProceduralLevelGenerator-Unity/docs/introduction">Docs</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity/">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/ProceduralLevelGenerator-Unity/"><img class="navbar__logo"><strong>Procedural level generator - Unity</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/versions">v2.0.0-alpha.1-hotfix.0</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/introduction">Docs</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity/">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_25T_"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_1hKf" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><div class="title">Introduction</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/installation">Installation</a></li></ul></li><li class="menu__list-item"><div class="title">Basics</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/basics/introduction">Basics</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/basics/room-templates">Room templates</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/basics/level-graphs">Level graphs</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/basics/generator-setup">Generator setup</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/ProceduralLevelGenerator-Unity/docs/next/basics/performance-tips">Performance tips</a></li></ul></li><li class="menu__list-item"><div class="title">Generators</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/generators/dungeon-generator">Dungeon generator</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/generators/platformer-generator">(PRO) Platformer generator</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/generators/custom-input">(PRO) Custom input</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/generators/post-process">Post processing</a></li></ul></li><li class="menu__list-item"><div class="title">Examples</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/examples/example-1">Example 1</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/examples/example-2">Example 2</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/examples/platformers">(Pro) Platformers</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/examples/enter-the-gungeon">(Pro) Enter the Gungeon case study</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/examples/dead-cells">(Pro) Dead Cells case study</a></li></ul></li><li class="menu__list-item"><div class="title">Guides</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/guides/procedural-level-graphs">(Pro) Procedural level graphs</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/guides/fog-of-war">(Pro) Fog of war</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/guides/benchmarks">(Pro) Performance benchmarks</a></li></ul></li><li class="menu__list-item"><div class="title">Other</div><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/other/tilemap-layers">Tilemap layers</a></li><li class="menu__list-item"><a class="menu__link" href="/ProceduralLevelGenerator-Unity/docs/next/other/migration-v1-v2">Migration from v1 to v2</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><span style="vertical-align:top" class="badge badge--info">Version: next</span><header><h1 class="docTitle_1vWb">Performance tips</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="room-templates"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#room-templates" title="Direct link to heading">#</a>Room templates</h2><p><strong>Try to provide as many door positions as possible.</strong> The core idea of the algorithm is that it picks a random room and slightly changes its position, hopefully making new connections with neighbouring rooms. If there are too few available door positions, the algorithm will often break already existing connections when trying to connect the room to other neighbours, resulting in a poor performance. However, note that if you have all door positions with the same length, it usually <em>does not</em> help to add door positions with different lengths just to make the algorithm faster.</p><p><strong>Try to provide rotated versions of room templates.</strong> If you provide rotated versions of your room templates, the algorithm will have more options to choose from and therefore usually converge faster. However, it is quite time-consuming to manually prepare all rotations - the plugin will hopefully support doing that at least semi-automatically.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="level-graphs"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#level-graphs" title="Direct link to heading">#</a>Level graphs</h2><p><strong>Limit the number of rooms.</strong> The core idea of the algorithm is that it decomposes the level graph into smaller subgraphs and tries to lay them out one at a time, connecting them to already laid out rooms. If this step fails, the algorithm needs to backtrack to a previous configuration. If we have too many rooms, backtracking can get quite costly, making the performance bad. We successfully generated dungeons with up to 60 rooms but it also depends on the overall complexity of the level graph - see the next point.</p><p><strong>Limit the number of cycles.</strong> Cycles are very hard to lay out so make sure that there are not too many of them. If you are not sure if cycles are the problem, try to remove some edges that form cycles and see if it makes the performance better.</p><p><strong>Make sure that default room templates make sense for rooms without their own room templates.</strong> The easiest way to configure room templates it to add all templates as <em>Default room templates</em>, making them available to all rooms in the level graph. Now imagine that you design a room template for your dead-end rooms and that it can be connected via doors to only one neighbouring room. Adding this room template to <em>Default room templates</em> will make the performance worse because the algoritm will waste time trying to use it for rooms that have more than 1 neighbour. Instead, you should add this room template only to rooms that have just a single neighbour.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity/tree/docusaurus/docs/basics/performance-tips.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/ProceduralLevelGenerator-Unity/docs/next/basics/generator-setup"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« Generator setup</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/ProceduralLevelGenerator-Unity/docs/next/generators/dungeon-generator"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Dungeon generator »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#room-templates" class="contents__link">Room templates</a></li><li><a href="#level-graphs" class="contents__link">Level graphs</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/ProceduralLevelGenerator-Unity/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/OndrejNepozitek">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://ondra.nepozitek.cz/blog/">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/OndrejNepozitek/ProceduralLevelGenerator-Unity">GitHub</a></li></ul></div></div><div class="text--center">Copyright © 2020 Ondřej Nepožitek</div></div></footer>
</div>

<script src="/ProceduralLevelGenerator-Unity/styles.6ac7f3e0.js"></script>

<script src="/ProceduralLevelGenerator-Unity/runtime~main.5028210b.js"></script>

<script src="/ProceduralLevelGenerator-Unity/main.614634a8.js"></script>

<script src="/ProceduralLevelGenerator-Unity/1.fc42cbf9.js"></script>

<script src="/ProceduralLevelGenerator-Unity/1be78505.e3c46eba.js"></script>

<script src="/ProceduralLevelGenerator-Unity/100.2b758b5b.js"></script>

<script src="/ProceduralLevelGenerator-Unity/7c75f4e1.692a2c6c.js"></script>

<script src="/ProceduralLevelGenerator-Unity/17896441.07d6948c.js"></script>

<script src="/ProceduralLevelGenerator-Unity/9c50f259.ee856ab3.js"></script>


</body>
</html>