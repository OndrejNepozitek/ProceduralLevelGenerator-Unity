<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-31904365-17","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="Edgar - Unity" href="/Edgar-Unity/opensearch.xml"><title data-react-helmet="true">Room templates | Edgar - Unity</title><meta data-react-helmet="true" name="docsearch:version" content="2.0.0-alpha.6"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Room templates | Edgar - Unity"><meta data-react-helmet="true" name="description" content="Room templates are one of the main concepts of the algorithm. They describe how individual rooms in the dungeon look and how they can be connected to one another."><meta data-react-helmet="true" property="og:description" content="Room templates are one of the main concepts of the algorithm. They describe how individual rooms in the dungeon look and how they can be connected to one another."><meta data-react-helmet="true" property="og:url" content="https://ondrejnepozitek.github.io/Edgar-Unity/docs/basics/room-templates"><link data-react-helmet="true" rel="shortcut icon" href="/Edgar-Unity/img/favicon.ico"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="true"><link data-react-helmet="true" rel="canonical" href="https://ondrejnepozitek.github.io/Edgar-Unity/docs/basics/room-templates"><link rel="stylesheet" href="/Edgar-Unity/styles.1a369485.css">
<link rel="preload" href="/Edgar-Unity/styles.c31bcbaa.js" as="script">
<link rel="preload" href="/Edgar-Unity/runtime~main.74a8e664.js" as="script">
<link rel="preload" href="/Edgar-Unity/main.bbb0503d.js" as="script">
<link rel="preload" href="/Edgar-Unity/1.323c99d4.js" as="script">
<link rel="preload" href="/Edgar-Unity/2.98de9b50.js" as="script">
<link rel="preload" href="/Edgar-Unity/1be78505.f2777144.js" as="script">
<link rel="preload" href="/Edgar-Unity/210.24988465.js" as="script">
<link rel="preload" href="/Edgar-Unity/213.ed97993e.js" as="script">
<link rel="preload" href="/Edgar-Unity/d1cf12b1.3febcd21.js" as="script">
<link rel="preload" href="/Edgar-Unity/17896441.18e5bd5f.js" as="script">
<link rel="preload" href="/Edgar-Unity/3568d2c7.52e08080.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/Edgar-Unity/"><strong class="navbar__title">Edgar - Unity</strong></a><a class="navbar__item navbar__link" href="/Edgar-Unity/versions">v2.0.0-alpha.6</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Edgar-Unity/docs">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" position="left" href="/Edgar-Unity/docs/introduction">2.0.0-alpha.6</a></li><li><a class="dropdown__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.5/introduction">2.0.0-alpha.5</a></li><li><a class="dropdown__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.4/introduction">2.0.0-alpha.4</a></li><li><a class="dropdown__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.3/introduction">2.0.0-alpha.3</a></li><li><a class="dropdown__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.1/introduction">2.0.0-alpha.1</a></li><li><a class="dropdown__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.0/introduction">2.0.0-alpha.0</a></li><li><a class="dropdown__link" position="left" href="/Edgar-Unity/docs/1.0.3/introduction">1.0.3</a></li><li><a class="dropdown__link" position="left" href="/Edgar-Unity/docs/next/introduction">Master/Unreleased</a></li></ul></div><a href="https://github.com/OndrejNepozitek/Edgar-Unity/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span><span class="DocSearch-Button-Key">âŒ˜</span><span class="DocSearch-Button-Key">K</span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/Edgar-Unity/"><strong class="navbar__title">Edgar - Unity</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/Edgar-Unity/versions">v2.0.0-alpha.6</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--sublist navbar__link--active" href="/Edgar-Unity/docs">Docs</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" position="left" href="/Edgar-Unity/docs/introduction">2.0.0-alpha.6</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.5/introduction">2.0.0-alpha.5</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.4/introduction">2.0.0-alpha.4</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.3/introduction">2.0.0-alpha.3</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.1/introduction">2.0.0-alpha.1</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/Edgar-Unity/docs/2.0.0-alpha.0/introduction">2.0.0-alpha.0</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/Edgar-Unity/docs/1.0.3/introduction">1.0.3</a></li><li class="menu__list-item"><a class="menu__link" position="left" href="/Edgar-Unity/docs/next/introduction">Master/Unreleased</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/OndrejNepozitek/Edgar-Unity/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/motivation">Motivation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/installation">Installation</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Basics</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/basics/introduction">Basics</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/Edgar-Unity/docs/basics/room-templates">Room templates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/basics/level-graphs">Level graphs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/basics/generator-setup">Generator setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/basics/generated-level-info">Level structure and rooms data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/basics/performance-tips">Performance tips</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Generators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/generators/dungeon-generator">Dungeon generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/generators/post-process">Post-processing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/generators/platformer-generator">(PRO) Platformer generator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/generators/custom-input">(PRO) Custom input</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Examples</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/examples/example-1">Example 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/examples/example-2">Example 2</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/examples/platformer-1">(PRO) Platformer 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/examples/isometric-1">(PRO) Isometric 1</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/examples/enter-the-gungeon">(PRO) Enter the Gungeon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/examples/dead-cells">(PRO) Dead Cells</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/guides/room-template-customization">Room template customization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/guides/current-room-detection">Current room detection</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/guides/fog-of-war">(PRO) Fog of war</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/guides/minimap">(PRO) Minimap</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Other</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/Edgar-Unity/docs/other/migration-v1-v2">Migration from v1 to v2</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 2.0.0-alpha.6</span></div><header><h1 class="docTitle_1Lrw">Room templates</h1></header><div class="markdown"><p>Room templates are one of the main concepts of the algorithm. They describe how individual rooms in the dungeon look and how they can be connected to one another. </p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/room_template_complete.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example of a complete room template. Outline of the room template is hightlighted with yellow and possible door positions are red.</div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="creating-room-templates"></a>Creating room templates<a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-room-templates" title="Direct link to heading">#</a></h2><p>There are currently two ways of creating room templates: either via the <em>Create asset</em> menu dialog or manually.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="create-via-create-menu-dialog"></a>Create via <em>Create</em> menu dialog<a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-via-create-menu-dialog" title="Direct link to heading">#</a></h3><p>To create a new room template, we have to:</p><ul><li>navigate to the folder where should the room template prefab be saved</li><li>right click in the Project window and choose <em>Create -&gt; Edgar -&gt; Dungeon room template</em></li><li>(optional) rename the prefab file to anything you want</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="create-manually"></a>Create manually<a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-manually" title="Direct link to heading">#</a></h3><p>To create a new room template manually, we have to:</p><ul><li>create an empty game object</li><li>add <em>Dungeon Room Template Initializer</em> component</li><li>click the <em>Initialize room template</em> button</li><li>create a prefab from that game object</li></ul><p>The whole process can be seen on the video below:</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/creating_room_templates.gif"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Initializing room template using the Dungeon room template initializer script</div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="room-template-structure"></a>Room template structure<a aria-hidden="true" tabindex="-1" class="hash-link" href="#room-template-structure" title="Direct link to heading">#</a></h3><p>Below you can see the room template structure after we use the room template initializer:</p><ul><li><strong>Tilemaps</strong> game object that contains several tilemaps attached as children</li><li><strong>Room Template</strong> script attached to the root game object</li><li><strong>Doors</strong> script attached to the root game object</li></ul><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/room_template_inspector.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Room template structure</div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="designing-room-templates"></a>Designing room templates<a aria-hidden="true" tabindex="-1" class="hash-link" href="#designing-room-templates" title="Direct link to heading">#</a></h2><p>We will use Unity <a href="https://docs.unity3d.com/Manual/class-Tilemap.html" target="_blank" rel="noopener noreferrer">Tilemaps</a> to design our room templates so you should be familiar with that. By default, room templates come with several tilemap layers that are children of the <em>Tilemap</em> game object:</p><ul><li><strong>Floor</strong> - order 0 </li><li><strong>Walls</strong> - order 1, with collider</li><li><strong>Collideable</strong> - order 2, with collider</li><li><strong>Other 1</strong> - order 3</li><li><strong>Other 2</strong> - order 4</li><li><strong>Other 3</strong> - order 5</li></ul><p>It is <strong>VERY IMPORTANT</strong> that all the room templates have exactly the same structure of tilemaps because the generator will copy all the tiles from individual room templates to shared tilemaps. If you need a different structure of tilemaps, you can override the default behaviour. See <a href="/Edgar-Unity/docs/guides/room-template-customization">Room template customization</a>.</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/room_template_drawing.gif"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">You can use all the available tools (brushes, rule tiles, etc.) to draw room templates</div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="limitations"></a>Limitations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#limitations" title="Direct link to heading">#</a></h3><p>The underlying algorithm works with polygons, not tilemaps, tiles and sprites. We are interested in the outlines of individual room templates. However, there are some limitations as to how a room template may look like in order for the algorithm to be able to compute its outline. The goal of this section is to describe which rules we should follow when designing room templates.</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/outline.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">The yellow color shows the outline of the room template as it is seen by the generator</div></div><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/invalid_outline.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">If the outline is invalid, we can see a warning in the *Room Template* script</div></div><blockquote><p><strong>Note:</strong> The underlying algorithm does not care about individual tilemaps layers. Instead, it merges all the layers together and then finds all the non-null tiles. Therefore, the outline of the room template will be the same no matter which tilemap layers we use.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="one-connected-component"></a>One connected component<a aria-hidden="true" tabindex="-1" class="hash-link" href="#one-connected-component" title="Direct link to heading">#</a></h4><p>I will not go into formal definitions. The image below should be self-explanatory.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/one_connected_component_nok.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/one_connected_component_nok.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Wrong</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/one_connected_component_ok.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/one_connected_component_ok.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Correct</div></div></div><blockquote><p><strong>Note:</strong> You can see that the algorithm computed some outline (yellow) in in the wrong room template. The current implementation stops after any outline is found and does not check whether all tiles are contained in that outline. This will be improved in the future.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="each-tile-at-least-two-neighbours"></a>Each tile at least two neighbours<a aria-hidden="true" tabindex="-1" class="hash-link" href="#each-tile-at-least-two-neighbours" title="Direct link to heading">#</a></h4><p>Each tile must be connected to at least two neighbouring tiles. In the image below, both tiles in the upper row are connected to only a single neighbour so the room shape is not valid. If we need these two tiles, we can use <strong>Outline override</strong> that is described in the next section.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/at_least_two_neighbors_nok.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/at_least_two_neighbors_nok.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Wrong</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/at_least_two_neighbors_ok.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/at_least_two_neighbors_ok.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Correct</div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="may-contain-holes"></a>May contain holes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#may-contain-holes" title="Direct link to heading">#</a></h4><p>There may be holes inside the room template.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/no_holes_ok_1.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/no_holes_ok_1.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Correct</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/no_holes_ok_2.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/no_holes_ok_2.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Correct</div></div></div><blockquote><p><strong>NOTE:</strong> This was not possible in the 1.x.x version.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="outline-override"></a>Outline override<a aria-hidden="true" tabindex="-1" class="hash-link" href="#outline-override" title="Direct link to heading">#</a></h3><p>If we really need to have a room template whose outline is not valid, we can use the so-called <em>Outline override</em>. It can be enabled by clicking the <em>Add outline override</em> button in the <em>Room template</em> script. As a result, a new tilemap layer called <em>Outline override</em> is created. With this functionality enabled, the algorithm ignores all the other layers when computing the outline. Moreover, nothing that is drawn on this layer will be used in the resulting level, so we can use any tiles to draw on this layer. </p><blockquote><p><strong>Note:</strong> When we are done with drawing the outline, we can make the layer (game object) inactive so that we can see how the room template actually looks like. However, <strong>we must not destroy the game object</strong>.</p></blockquote><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/outline_override_active.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/outline_override_active.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">We can use any tiles to draw the outline</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/outline_override_inactive.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/outline_override_inactive.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">If we disable the Outline override game object, we should still see that the outline is overridden</div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="bounding-box-outline-handler"></a>Bounding box outline handler<a aria-hidden="true" tabindex="-1" class="hash-link" href="#bounding-box-outline-handler" title="Direct link to heading">#</a></h3><p>In some situations, it would be useful to have an outline which looks like the bounding box of all the tiles in the room template. For example, it can be used to handle an outline of some platformer levels (see the images below). It is also possible to add padding to the top of the outline, which is convenient if we need to add doors that are higher than the outline.</p><p>To add the <em>Bounding box outline handler</em> click the <strong>Add bounding box outline handler</strong> button in the <em>Room template</em> inspector.</p><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/bounding_box_invalid.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/bounding_box_invalid.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Invalid outline</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/bounding_box_override.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/bounding_box_override.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Corrected manually with Outline override</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/bounding_box.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/bounding_box.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Corrected automatically with Bounding box outline handler</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/v2/room_templates/bounding_box_padding_top.png" target="_blank"><img src="/Edgar-Unity/img/v2/room_templates/bounding_box_padding_top.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example of Padding top 3</div></div></div><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/bounding_box.gif"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Example bounding box outline usage</div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="adding-doors"></a>Adding doors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#adding-doors" title="Direct link to heading">#</a></h2><p>When we are happy with how the room template looks, we can add doors. By specifying door positions, we tell the algorithm how can individual room templates be connected together.</p><p>The algorithm may connect two room templates if:</p><ul><li>there exist door positions with the same length</li><li>the two room templates do not overlap after we connect them<ul><li>they may share tiles on outlines of corresponding room shapes</li></ul></li></ul><blockquote><p><strong>Note:</strong> In some procedural level generators, all the doors must be used by the algorithm to connect the room to other rooms. That is not the case here, we define all the possible door positions and the generator may pick only some of them.</p></blockquote><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="door-modes"></a>Door modes<a aria-hidden="true" tabindex="-1" class="hash-link" href="#door-modes" title="Direct link to heading">#</a></h3><p>There are currently two ways of defining door positions. Both ways are currently controlled by the <em>Doors</em> component that is automatically added to the room game object after using the room template initializer.</p><p>In both modes, all door positions must be on the outline of the corresponding room template.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="simple-mode"></a>Simple mode<a aria-hidden="true" tabindex="-1" class="hash-link" href="#simple-mode" title="Direct link to heading">#</a></h4><p>In the simple mode, you specify how long should all doors be and at least how far from corners of the room template they should be positioned. Below you can see how this mode looks.</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/doors_simple1.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Simple door mode - length 1, distance from corners 2</div></div><p>Each red rectangle shows available door positions. You can see that there are no door positions in the bottom-right part of the room template - that is because no tile is placed at least 2 tiles from all corners. If we change the door length to 2, we will loose the door positon on the right side of the room template because there is space only for a single tile.</p><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/doors_simple2.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Simple door mode - length 2, distance from corners 2</div></div><blockquote><p><strong>Note:</strong> There is currently an inconsistency in how are door positions displayed. In the <em>simple mode</em>, each red rectangle represents a set of door positions, while in the <em>specific positions mode</em>, each rectangle represents exactly one door position. The reason for this is that it is exactly how the procedural dungeon generator library handles that, but it might be counter-intuitive for users of the plugin and may change in the future.</p></blockquote><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="specific-positions-mode"></a>Specific positions mode<a aria-hidden="true" tabindex="-1" class="hash-link" href="#specific-positions-mode" title="Direct link to heading">#</a></h4><p>In the <em>Specific positions mode</em>, you have to manually specify all door positions of the room template. This mode gives you complete control over available door positions.</p><p>To start adding doors, click the <em>Specific positions</em> button in the <em>Doors</em> script and then click the <em>Add door positions</em> button to toggle edit mode. Then you can simply draw door positions as seen in the video below.</p><div style="text-align:center"><img src="/Edgar-Unity/img/original/doors_specific1.gif"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Specific positions mode</div></div><p>You can see that I am creating doors of various lengths. And at the end of the video, you can also see that individual door positions may overlap.</p><blockquote><p><strong>Note:</strong> If you accidentally add a door position that you did not want to add, there are two ways of removing doors:</p><ol><li>Click the <em>Delete all door positions</em> button to delete all the door positions.</li><li>Click the <em>Delete door positions</em> button and then click on door positions that should be deleted.</li></ol></blockquote><blockquote><p><strong>Note:</strong> With multiple doors overlapping, the GUI gets quite messy. In order to make it more clear, I show diagonals of individual rectangles. And it gets even more messy when you have doors of various sizes overlapping. I thought about adding a switch that would show only doors with a specified length.</p></blockquote><blockquote><p><strong>Note:</strong> The inspector script currently lets you add door positions that are not on the outline of the room shape. It will, however, result in an error when trying to generate a dungeon. It should be improved in the future.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="repeat-mode"></a>Repeat mode<a aria-hidden="true" tabindex="-1" class="hash-link" href="#repeat-mode" title="Direct link to heading">#</a></h2><p>Each <em>Room template</em> script has a field called <em>Repeat Mode</em> that is initially set to <em>Allow Repeat</em>. Using this field, we can tell the algorithm whether the room template can be used more than once in generated levels. There are the following possibilities:</p><ul><li><strong>Allow repeat</strong> - The room template may repeat in generated levels.</li><li><strong>No immediate</strong> - Neighbors of the room template must be different.</li><li><strong>No repeat</strong> - The room template can be used at most once.</li></ul><div style="text-align:center"><img src="/Edgar-Unity/img/v2/room_templates/repeat_mode.png"><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Specific positions mode</div></div><blockquote><p><strong>Note:</strong> Instead of setting the <em>Repeat mode</em> on a per room template basis, you can use global override which is configured directly in the dungeon generator.</p></blockquote><blockquote><p><strong>Note:</strong> If you provide too few room templates, they may repeat in generated levels even if you choose the <strong>No immediate</strong> or <strong>No repeat</strong> options. To make sure that the repeat mode is satisfied, please provide enough room templates to choose from.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="corridors"></a>Corridors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#corridors" title="Direct link to heading">#</a></h2><p>The algorithm distinguishes two types of room templates - basic room templates and room templates for corridor rooms. In theory, we can use any room template with at least two doors to act as a corridor room template. <strong>However, to make the algorithm fast, we should follow these recommendations</strong>:</p><ol><li>There should be exactly two door positions.</li><li>The two doors should be on the opposite sides of the room template.</li><li>The corridor should not be too long or too wide.</li></ol><div style="font-size:0px;margin:20px 0"><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/original/corridor_ok1.png" target="_blank"><img src="/Edgar-Unity/img/original/corridor_ok1.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Recommended - narrow straight corridor</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/original/corridor_ok2.png" target="_blank"><img src="/Edgar-Unity/img/original/corridor_ok2.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">OK - little too wide but should be ok</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/original/corridor_nok1.png" target="_blank"><img src="/Edgar-Unity/img/original/corridor_nok1.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Not recommended - doors not on opposite sides</div></div><div style="display:inline-block;margin:2px;overflow:hidden;position:relative;width:calc(50% - 4px);vertical-align:top"><a href="/Edgar-Unity/img/original/corridor_nok2.png" target="_blank"><img src="/Edgar-Unity/img/original/corridor_nok2.png" alt="result" style="height:400px;object-fit:cover"></a><div style="font-size:16px;font-style:italic;text-align:center;margin:10px 0px 15px">Not recommended - more than 2 door positions</div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="final-steps"></a>Final steps<a aria-hidden="true" tabindex="-1" class="hash-link" href="#final-steps" title="Direct link to heading">#</a></h2><p>After creating a room template GameObject, you can simply save it as a prefab and it is ready to be used in a level graph.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/OndrejNepozitek/Edgar-Unity/tree/docusaurus/versioned_docs/version-2.0.0-alpha.6/basics/room-templates.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Edgar-Unity/docs/basics/introduction"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Basics</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Edgar-Unity/docs/basics/level-graphs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Level graphs Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-room-templates" class="table-of-contents__link">Creating room templates</a><ul><li><a href="#create-via-create-menu-dialog" class="table-of-contents__link">Create via <em>Create</em> menu dialog</a></li><li><a href="#create-manually" class="table-of-contents__link">Create manually</a></li><li><a href="#room-template-structure" class="table-of-contents__link">Room template structure</a></li></ul></li><li><a href="#designing-room-templates" class="table-of-contents__link">Designing room templates</a><ul><li><a href="#limitations" class="table-of-contents__link">Limitations</a></li><li><a href="#outline-override" class="table-of-contents__link">Outline override</a></li><li><a href="#bounding-box-outline-handler" class="table-of-contents__link">Bounding box outline handler</a></li></ul></li><li><a href="#adding-doors" class="table-of-contents__link">Adding doors</a><ul><li><a href="#door-modes" class="table-of-contents__link">Door modes</a></li></ul></li><li><a href="#repeat-mode" class="table-of-contents__link">Repeat mode</a></li><li><a href="#corridors" class="table-of-contents__link">Corridors</a></li><li><a href="#final-steps" class="table-of-contents__link">Final steps</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/Edgar-Unity/docs/introduction">Introduction</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/OndrejNepozitek" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a href="https://ondra.nepozitek.cz/blog/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/OndrejNepozitek/Edgar-Unity" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 OndÅ™ej NepoÅ¾itek</div></div></div></footer></div>
<script src="/Edgar-Unity/styles.c31bcbaa.js"></script>
<script src="/Edgar-Unity/runtime~main.74a8e664.js"></script>
<script src="/Edgar-Unity/main.bbb0503d.js"></script>
<script src="/Edgar-Unity/1.323c99d4.js"></script>
<script src="/Edgar-Unity/2.98de9b50.js"></script>
<script src="/Edgar-Unity/1be78505.f2777144.js"></script>
<script src="/Edgar-Unity/210.24988465.js"></script>
<script src="/Edgar-Unity/213.ed97993e.js"></script>
<script src="/Edgar-Unity/d1cf12b1.3febcd21.js"></script>
<script src="/Edgar-Unity/17896441.18e5bd5f.js"></script>
<script src="/Edgar-Unity/3568d2c7.52e08080.js"></script>
</body>
</html>